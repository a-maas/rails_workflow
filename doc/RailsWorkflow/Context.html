<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: RailsWorkflow::Context
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!RailsWorkflow/Context.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../RailsWorkflow.html" title="RailsWorkflow (module)">RailsWorkflow</a></span></span>
     &raquo; 
    <span class="title">Context</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: RailsWorkflow::Context
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActiveRecord::Base</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next">RailsWorkflow::Context</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">app/models/rails_workflow/context.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Every operation and process has context. Context is a set of variables (by
default it is a hash). If you navigate to process you can see context data
in right column:</p>

<p><img
src="http://madzhuga.github.io/rails_workflow/images/process_context.png"
/></p>

<p>Navigate to operation and you will be able to see context in the bottom of
the page:</p>

<p><img
src="http://madzhuga.github.io/rails_workflow/images/operation_context.png"
/></p>

<p>When you create new process, you passing process template and initial
context (hash) for that process:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>RailsWorkflow</span><span class='op'>::</span><span class='const'>ProcessManager</span><span class='period'>.</span><span class='id identifier rubyid_start_process'>start_process</span><span class='lparen'>(</span>
  <span class='id identifier rubyid_process_template_id'>process_template_id</span> <span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>resource:</span> <span class='id identifier rubyid_resource'>resource</span> <span class='rbrace'>}</span>
<span class='rparen'>)</span>
</code></pre>

<p>Process manager takes process template and using it to build new process.
It passing given context to template and by default using it as is. You can
change that behaviour using custom ProcessTemplate class.</p>

<p>Operations context is build by operation template. By default operation
template using process context (if operation has no dependencies and is
building before process start) or previous operations context.</p>

<pre class="code ruby"><code class="ruby">Let&#39;s say we have process template with 3 operaiton templates: A, B, C. Operation template C depends on
both operations A and B with DONE status. We have process build on that template with A and
B operations. A is just get completed (changed it&#39;s status to DONE). But since operation B is IN_PROGRESS
process not building operation C. Operaiton B is completed. Both A and B having DONE status so process starting
to build operation C. By default it using last completed operation context. In our case it is B operation context
but we have both operations A and B contexts passed to build_context method of OperationTemplate so you can easy
change that behaviour and merge A and B contexts.

Please note: in given example operation C depends on both A and B with DONE status. Default operation template
dependency resolver will build operation C if any of that operations will have DONE status. So in given example
I assumed that operation C template has custom resolve_dependencies method which only return true if both operations
exists in DONE status.</code></pre>


  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="OperationTemplates/DefaultBuilder.html" title="RailsWorkflow::OperationTemplates::DefaultBuilder (module)">OperationTemplates::DefaultBuilder</a></span></li>
    
  </ul>

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#data-instance_method" title="#data (instance method)">- (Object) <strong>data</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>hash with operation context data.</p>
</div></span>
  
</li>

    
  </ul>





  
  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="data=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="data-instance_method">
  
    - (<tt>Object</tt>) <strong>data</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>hash with operation context data</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/rails_workflow/context.rb', line 42</span>

<span class='kw'>def</span> <span class='id identifier rubyid_data'>data</span>
  <span class='ivar'>@data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


</div>

    <div id="footer">
  Generated on Sat Feb 21 22:21:09 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.2).
</div>

  </body>
</html>